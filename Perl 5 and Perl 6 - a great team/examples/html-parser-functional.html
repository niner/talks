<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Konsole output</title>
	<meta name="generator" content="LibreOffice 4.3.7.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2016-03-09T11:56:14.824821985"/>
</head>
<body lang="en-US" dir="ltr" style="background: transparent">
<p><font face="monospace"><font color="#b218b2"><span style="background: #ffffff">#!perl6</span></font><font color="#000000"><span style="background: #ffffff">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><br><br><font color="#b218b2"><span style="background: #ffffff">use</span></font><font color="#000000"><span style="background: #ffffff">
HTML::Parser</span></font><font color="#b26818"><span style="background: #ffffff">:</span></font><font color="#b21818"><span style="background: #ffffff">from</span></font><font color="#b218b2"><span style="background: #ffffff">&lt;</span></font><font color="#b21818"><span style="background: #ffffff">Perl5</span></font><font color="#b218b2"><span style="background: #ffffff">&gt;</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br><br><font color="#b218b2"><span style="background: #ffffff">my</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">$level</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">=</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b21818"><span style="background: #ffffff">0</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br><br><font color="#b26818"><span style="background: #ffffff">sub</span></font><font color="#000000"><span style="background: #ffffff">
indent { </span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#b21818"><span style="background: #ffffff">
&nbsp;&nbsp;&nbsp;</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">x</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">$level</span></font><font color="#000000"><span style="background: #ffffff">
}</span></font><br><br><font color="#b26818"><span style="background: #ffffff">sub</span></font><font color="#000000"><span style="background: #ffffff">
start(</span></font><font color="#18b2b2"><span style="background: #ffffff">$tag</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">%attrs</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">@attrs</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">$full</span></font><font color="#b26818"><span style="background: #ffffff">?</span></font><font color="#000000"><span style="background: #ffffff">)
{</span></font><br>&nbsp;&nbsp;&nbsp;say indent() <font color="#b26818"><span style="background: #ffffff">~</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#b21818"><span style="background: #ffffff">&lt;</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">~</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">$tag</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">~</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">@attrs</span></font><font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">map({
</span></font><font color="#b218b2"><span style="background: #ffffff">qq/</span></font><font color="#b21818"><span style="background: #ffffff">
</span></font><font color="#18b2b2"><span style="background: #ffffff">$_</span></font><font color="#b21818"><span style="background: #ffffff">=&quot;</span></font><font color="#000000"><span style="background: #ffffff">{</span></font><font color="#18b2b2"><span style="background: #ffffff">%attrs</span></font><font color="#000000"><span style="background: #ffffff">{</span></font><font color="#18b2b2"><span style="background: #ffffff">$_</span></font><font color="#000000"><span style="background: #ffffff">}}</span></font><font color="#b21818"><span style="background: #ffffff">&quot;</span></font><font color="#b218b2"><span style="background: #ffffff">/</span></font><font color="#000000"><span style="background: #ffffff">
})</span></font><font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">join
</span></font><font color="#b26818"><span style="background: #ffffff">~</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#b21818"><span style="background: #ffffff">&gt;</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#18b2b2"><span style="background: #ffffff">$level</span></font><font color="#b26818"><span style="background: #ffffff">++;</span></font><br>}<br><br><font color="#b26818"><span style="background: #ffffff">sub</span></font><font color="#000000"><span style="background: #ffffff">
text(</span></font><font color="#18b2b2"><span style="background: #ffffff">$content</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">*</span></font><font color="#18b2b2"><span style="background: #ffffff">@args</span></font><font color="#000000"><span style="background: #ffffff">)
{</span></font><br>&nbsp;&nbsp;&nbsp;say
<font color="#18b2b2"><span style="background: #ffffff">$content</span></font><font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">indent(</span></font><font color="#b26818"><span style="background: #ffffff">*</span></font><font color="#000000"><span style="background: #ffffff">)</span></font><font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">trim</span></font><font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">indent(</span></font><font color="#18b2b2"><span style="background: #ffffff">$level</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">*</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b21818"><span style="background: #ffffff">4</span></font><font color="#000000"><span style="background: #ffffff">)</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br>}<br><br><font color="#b26818"><span style="background: #ffffff">sub</span></font><font color="#000000"><span style="background: #ffffff">
end(</span></font><font color="#18b2b2"><span style="background: #ffffff">$tag</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">*</span></font><font color="#18b2b2"><span style="background: #ffffff">@args</span></font><font color="#000000"><span style="background: #ffffff">)
{</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#18b2b2"><span style="background: #ffffff">$level</span></font><font color="#b26818"><span style="background: #ffffff">--;</span></font><br>&nbsp;&nbsp;&nbsp;say
indent() <font color="#b26818"><span style="background: #ffffff">~</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#b21818"><span style="background: #ffffff">&lt;/</span></font><font color="#18b2b2"><span style="background: #ffffff">$tag</span></font><font color="#b21818"><span style="background: #ffffff">&gt;</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br>}
&nbsp;&nbsp;&nbsp;<br><br>HTML::Parser<font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">new(</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#b21818"><span style="background: #ffffff">api_version</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">=&gt;</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b21818"><span style="background: #ffffff">3</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#b21818"><span style="background: #ffffff">start_h</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b26818"><span style="background: #ffffff">=&gt;</span></font><font color="#000000"><span style="background: #ffffff">
[</span></font><font color="#18b2b2"><span style="background: #ffffff">&amp;start</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#b21818"><span style="background: #ffffff">tagname,
attr, attrseq</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#000000"><span style="background: #ffffff">]</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#b21818"><span style="background: #ffffff">text_h</span></font><font color="#000000"><span style="background: #ffffff">
&nbsp;</span></font><font color="#b26818"><span style="background: #ffffff">=&gt;</span></font><font color="#000000"><span style="background: #ffffff">
[</span></font><font color="#18b2b2"><span style="background: #ffffff">&amp;text</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#b21818"><span style="background: #ffffff">dtext</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#000000"><span style="background: #ffffff">]</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><br>&nbsp;&nbsp;&nbsp;<font color="#b21818"><span style="background: #ffffff">end_h</span></font><font color="#000000"><span style="background: #ffffff">
&nbsp;&nbsp;</span></font><font color="#b26818"><span style="background: #ffffff">=&gt;</span></font><font color="#000000"><span style="background: #ffffff">
[</span></font><font color="#18b2b2"><span style="background: #ffffff">&amp;end</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><font color="#000000"><span style="background: #ffffff">
</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#b21818"><span style="background: #ffffff">tagname</span></font><font color="#b218b2"><span style="background: #ffffff">&quot;</span></font><font color="#000000"><span style="background: #ffffff">]</span></font><font color="#b26818"><span style="background: #ffffff">,</span></font><br>)<font color="#b26818"><span style="background: #ffffff">.</span></font><font color="#000000"><span style="background: #ffffff">parse_file(</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#b21818"><span style="background: #ffffff">html-parser.html</span></font><font color="#b218b2"><span style="background: #ffffff">'</span></font><font color="#000000"><span style="background: #ffffff">)</span></font><font color="#b26818"><span style="background: #ffffff">;</span></font><br><font color="#1818b2"><span style="background: #ffffff">#
vim: ft=perl6</span></font></font></p>
</body>
</html>